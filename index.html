<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设备信息检测</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .info-card {
            width: 100%;
            max-width: 500px;
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
        }

        .card-header {
            background: linear-gradient(90deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .card-header h2 {
            font-size: 20px;
            font-weight: 500;
        }

        .card-body {
            padding: 25px 20px;
            min-height: 240px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        /* 加载转圈动画样式 */
        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #667eea;
            border-bottom-color: transparent;
            border-radius: 50%;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 加载提示文字 + 闪烁动画 */
        .load-tip {
            color: #667eea;
            font-size: 15px;
            animation: blink 1.2s ease-in-out infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        /* 信息列表 - 强制显示 */
        .info-list {
            width: 100%;
            display: block !important;
        }

        .info-item {
            padding: 12px 15px;
            margin-bottom: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }

        .info-item:last-child { margin-bottom: 0; }

        .info-item strong {
            color: #2d3748;
            margin-right: 8px;
            display: inline-block;
            min-width: 80px;
        }

        .info-item span {
            color: #4a5568;
            word-break: break-all;
            font-size: 14px;
        }

        /* 成功提示弹窗样式 + 淡入淡出动画 */
        .success-modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .success-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            padding: 25px 30px;
            border-radius: 12px;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .success-modal.show .modal-content {
            transform: scale(1);
        }

        .modal-content h3 {
            color: #667eea;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="info-card">
        <!-- 成功提示弹窗 -->
        <div class="success-modal" id="successModal">
            <div class="modal-content">
                <h3>✓ 设备信息获取成功</h3>
            </div>
        </div>

        <div class="card-header">
            <h2>设备与浏览器信息检测</h2>
        </div>
        <div class="card-body" id="contentContainer">
            <div class="loader"></div>
            <div class="load-tip">正在获取设备信息……</div>
        </div>
    </div>

    <script>
        const container = document.getElementById('contentContainer');
        const successModal = document.getElementById('successModal');
        const userAgent = navigator.userAgent;
        let osVersion = "无法识别";
        let browserInfo = "无法识别";
        let deviceType = "无法识别";

        // 系统和浏览器识别逻辑
        if (/iPhone|iPad|iPod/.test(userAgent)) {
            const iosMatch = userAgent.match(/OS (\d+(_\d+)+)/);
            osVersion = iosMatch ? `iOS ${iosMatch[1].replace(/_/g, '.')}` : "iOS (版本未知)";
            deviceType = /iPad/.test(userAgent) ? "平板" : "手机";
        } else if (/Android/.test(userAgent)) {
            const androidMatch = userAgent.match(/Android (\d+(\.\d+){0,2})/);
            osVersion = androidMatch ? `Android ${androidMatch[1]}` : "Android (版本未知)";
            const isTablet = /Tablet|Pad/i.test(userAgent) || (screen.width >= 768 && !/Mobile/i.test(userAgent));
            deviceType = isTablet ? "平板" : "手机";
        }

        if (/MicroMessenger/.test(userAgent)) {
            const wechatMatch = userAgent.match(/MicroMessenger\/(\d+(\.\d+)+)/);
            browserInfo = wechatMatch ? `微信浏览器 ${wechatMatch[1]}` : "微信浏览器 (版本未知)";
        } else if (/Safari/.test(userAgent) && !/Chrome/.test(userAgent)) {
            const safariMatch = userAgent.match(/Version\/(\d+(\.\d+)+)/);
            browserInfo = safariMatch ? `Safari ${safariMatch[1]}` : "Safari (版本未知)";
        } else if (/Chrome/.test(userAgent)) {
            const chromeMatch = userAgent.match(/Chrome\/(\d+(\.\d+)+)/);
            browserInfo = chromeMatch ? `Chrome ${chromeMatch[1]}` : "Chrome (版本未知)";
        } else if (/Firefox/.test(userAgent)) {
            const firefoxMatch = userAgent.match(/Firefox\/(\d+(\.\d+)+)/);
            browserInfo = firefoxMatch ? `Firefox ${firefoxMatch[1]}` : "Firefox (版本未知)";
        }

        // 自动关闭弹窗并显示信息
        function autoCloseModal() {
            successModal.classList.remove('show');
            // 弹窗淡出后再显示信息，过渡更自然
            setTimeout(() => {
                container.innerHTML = `
                    <div class="info-list">
                        <div class="info-item"><strong>设备类型:</strong> <span>${deviceType}</span></div>
                        <div class="info-item"><strong>系统版本:</strong> <span>${osVersion}</span></div>
                        <div class="info-item"><strong>浏览器:</strong> <span>${browserInfo}</span></div>
                        <div class="info-item"><strong>UA字符串:</strong> <span>${userAgent}</span></div>
                    </div>
                `;
            }, 300);
        }

        // 加载等待1.5秒 → 显示弹窗 → 2秒后自动关闭
        const waitTime = 1500;
        const modalShowTime = 2000;
        let timer = setTimeout(() => {
            clearTimeout(timer);
            successModal.classList.add('show');
            
            // 弹窗显示2秒后自动关闭
            setTimeout(autoCloseModal, modalShowTime);
        }, waitTime);

        // 兜底方案：1.8秒强制显示弹窗
        setTimeout(() => {
            if (container.querySelector('.loader')) {
                successModal.classList.add('show');
                setTimeout(autoCloseModal, modalShowTime);
            }
        }, 1800);
    </script>
</body>
</html>
